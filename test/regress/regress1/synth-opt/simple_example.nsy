
// topology

node A;
node B;
node C;

edge A -> C;
edge B -> C;

// reliability

reliability = 0.7;

// workload

packet P1 : A -> C;
packet P2 : B -> C;

// policies

policy A
{
  sleep
}

policy B
{
  sleep
}

policy C
{
  choose {
    GAL : actionList := try{ GA } else { GAL } | sleep,
    GA : action := push( GN, GP ) | pull( GN, GP ),
    GN : node := A | B,
    GP : packet := P1 | P2
  }
}

// objective

maximize 
  chance(P1) + chance(P2)
  in (
    timesteps = 2
  );
